
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>axisAngleColorKey</title><meta name="generator" content="MATLAB 9.14"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2023-05-21"><meta name="DC.source" content="script_axisAngleColorKey.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>axisAngleColorKey</h1><!--introduction--><p>The axisAngleColorKey allows to assign colors to orientations and misorientations according to rotational axes and rotational angles.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">View Code</a></li><li><a href="#2">Description</a></li><li><a href="#3">Syntax</a></li><li><a href="#4">Input</a></li><li><a href="#5">Output</a></li><li><a href="#6">Class Properties</a></li></ul></div><h2 id="1">View Code</h2><h2 id="2">Description</h2><p>The rotational angle determines the saturation of the color. The saturation increases linearly from 0 (gray) to 1 (full saturated color) within the range <tt>[0,maxAngle]</tt>. Within the range <tt>[maxAngle,thresholdAngle]</tt> the saturation is constant <tt>1</tt>. For angles large than <tt>thresholdAngle</tt> the color is set to NaN.</p><p>The rotational axis determines the saturated color as defined in the property <a href="directionColorKey.html"><tt>dirMapping</tt></a>. Be default this is the @HSVDirectionKey which circles through the rainbow colors at the equator and fades to white at the north pole and black at the south pole.</p><p>If a reference orientation <tt>oriRef</tt> is defined the disorientation angle and the disorientation axis with respect to this reference orientation is considered. If orientations are colorized the disorientation axis is considered in specimen coordinates. If misorientations are colorized the axis is in crystal coordinates.</p><p>The reference orientation may be single fixed orientation or a list of orientations. A typical application is to use as the reference orientation the mean orientation of the grain the orientation belongs to</p><pre>rgb = colorKey.orientation2color(ebsd.orientations, grains(ebsd.grainId).meanOrientation)</pre><p>Reference: Thomsen et al.: Quaternion-based disorientation coloring of orientation maps, 2017</p><h2 id="3">Syntax</h2><pre class="language-matlab">colorKey = axisAngleColorKey(CS1,CS2)
</pre><pre class="language-matlab">rgb = colorKey.orientation2color(mori);
</pre><pre class="language-matlab">rgb = colorKey.orientation2color(ori,oriRef);
</pre><h2 id="4">Input</h2><p>
   <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
      <tr>
         <td width="100px">
            <tt>CS1, CS2</tt>
         </td>
         <td>
            <tt><a href="crystalSymmetry.crystalSymmetry.html">crystalSymmetry</a>, two are only required for misorientations</tt>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>ori</tt>
         </td>
         <td>
            <tt><a href="orientation.orientation.html">orientation</a></tt>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>oriRef</tt>
         </td>
         <td>
            <tt>(list of) reference <a href="orientation.orientation.html">orientation</a></tt>
         </td>
      </tr>
   </table>
</p><h2 id="5">Output</h2><p>
   <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
      <tr>
         <td width="100px">
            <tt>rgb</tt>
         </td>
         <td>
            <tt>list of RGB triplets</tt>
         </td>
      </tr>
   </table>
</p><h2 id="6">Class Properties</h2><p>
   <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
      <tr>
         <td width="100px">
            <tt>dirMapping</tt>
         </td>
         <td>
            <tt><a href="directionColorKey.directionColorKey.html">directionColorKey</a></tt>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>oriRef</tt>
         </td>
         <td>
            <tt>reference <a href="orientation.orientation.html">orientation</a></tt>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>maxAngle</tt>
         </td>
         <td>
            <tt>misorientation angle at which the colors are maximum saturated</tt>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>thresholdAngle</tt>
         </td>
         <td>
            <tt>misorientation angle at which colors are set to NaN</tt>
         </td>
      </tr>
   </table>
</p><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2023a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% axisAngleColorKey
% 
% The axisAngleColorKey allows to assign colors to orientations and
% misorientations according to rotational axes and rotational angles.
% 
%
%% View Code
% 
%% Description
% 
% The rotational angle determines the saturation of the color. The
% saturation increases linearly from 0 (gray) to 1 (full saturated color)
% within the range |[0,maxAngle]|. Within the range
% |[maxAngle,thresholdAngle]| the saturation is constant |1|. For angles
% large than |thresholdAngle| the color is set to NaN.
% 
% The rotational axis determines the saturated color as defined in the
% property <directionColorKey.html |dirMapping|>. Be default this is the
% @HSVDirectionKey which circles through the rainbow colors at the
% equator and fades to white at the north pole and black at the south
% pole.
% 
% If a reference orientation |oriRef| is defined the disorientation angle
% and the disorientation axis with respect to this reference orientation
% is considered. If orientations are colorized the disorientation axis is
% considered in specimen coordinates. If misorientations are colorized
% the axis is in crystal coordinates.
% 
% The reference orientation may be single fixed orientation or a list of
% orientations. A typical application is to use as the reference
% orientation the mean orientation of the grain the orientation belongs
% to
% 
%  rgb = colorKey.orientation2color(ebsd.orientations, grains(ebsd.grainId).meanOrientation)
% 
% Reference: Thomsen et al.: Quaternion-based disorientation coloring of
% orientation maps, 2017
%
%% Syntax
% 
%   colorKey = axisAngleColorKey(CS1,CS2)
% 
%   rgb = colorKey.orientation2color(mori);
% 
%   rgb = colorKey.orientation2color(ori,oriRef);
% 

%% Input
% 
% <html>
%    <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
%       <tr>
%          <td width="100px">
%             <tt>CS1, CS2</tt>
%          </td>
%          <td>
%             <tt><a href="crystalSymmetry.crystalSymmetry.html">crystalSymmetry</a>, two are only required for misorientations</tt>
%          </td>
%       </tr>
%       <tr>
%          <td width="100px">
%             <tt>ori</tt>
%          </td>
%          <td>
%             <tt><a href="orientation.orientation.html">orientation</a></tt>
%          </td>
%       </tr>
%       <tr>
%          <td width="100px">
%             <tt>oriRef</tt>
%          </td>
%          <td>
%             <tt>(list of) reference <a href="orientation.orientation.html">orientation</a></tt>
%          </td>
%       </tr>
%    </table>
% </html>
% 
%% Output
% 
% <html>
%    <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
%       <tr>
%          <td width="100px">
%             <tt>rgb</tt>
%          </td>
%          <td>
%             <tt>list of RGB triplets</tt>
%          </td>
%       </tr>
%    </table>
% </html>
% 
%% Class Properties
% 
% <html>
%    <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
%       <tr>
%          <td width="100px">
%             <tt>dirMapping</tt>
%          </td>
%          <td>
%             <tt><a href="directionColorKey.directionColorKey.html">directionColorKey</a></tt>
%          </td>
%       </tr>
%       <tr>
%          <td width="100px">
%             <tt>oriRef</tt>
%          </td>
%          <td>
%             <tt>reference <a href="orientation.orientation.html">orientation</a></tt>
%          </td>
%       </tr>
%       <tr>
%          <td width="100px">
%             <tt>maxAngle</tt>
%          </td>
%          <td>
%             <tt>misorientation angle at which the colors are maximum saturated</tt>
%          </td>
%       </tr>
%       <tr>
%          <td width="100px">
%             <tt>thresholdAngle</tt>
%          </td>
%          <td>
%             <tt>misorientation angle at which colors are set to NaN</tt>
%          </td>
%       </tr>
%    </table>
% </html>
% 
##### SOURCE END #####
--></body></html>